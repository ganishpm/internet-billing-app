<%- include('../partials/header') %>

<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-xl shadow-md p-6">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-gray-800">Template Pesan</h2>
            <a href="/settings" class="text-gray-600 hover:text-gray-800 transition">
                <i class="fas fa-arrow-left mr-2"></i>Kembali
            </a>
        </div>

        <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
        <!-- ... (tampilan error Anda tetap sama) ... -->
        <% } %>

        <form action="/settings/templates" method="POST">
            <!-- Template Pengingat Tagihan -->
            <div class="mb-6">
                <label class="block text-gray-700 text-sm font-medium mb-2">Template Pengingat Tagihan</label>
                <textarea name="waTemplate" rows="6" required
                          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                          placeholder="Template pesan untuk pengingat tagihan"><%= settings.waTemplate %></textarea>
                <p class="text-sm text-gray-500 mt-1">
                    Placeholder: <code>{customer_name}</code>, <code>{invoice_number}</code>, <code>{amount}</code>, <code>{due_date}</code>
                </p>
            </div>

            <!-- Template Konfirmasi Pembayaran -->
            <div class="mb-6">
                <label class="block text-gray-700 text-sm font-medium mb-2">Template Konfirmasi Pembayaran</label>
                <textarea name="paymentConfirmationTemplate" rows="6" required
                          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                          placeholder="Template pesan setelah pembayaran berhasil"><%= settings.paymentConfirmationTemplate %></textarea>
                <p class="text-sm text-gray-500 mt-1">
                    Placeholder: <code>{customer_name}</code>, <code>{invoice_number}</code>, <code>{amount}</code>, <code>{payment_date}</code>
                </p>
            </div>

            <!-- Template Notifikasi Generate Tagihan -->
            <div class="mb-6">
                <label class="block text-gray-700 text-sm font-medium mb-2">Template Notifikasi Generate Tagihan</label>
                <textarea name="invoiceGenerationTemplate" rows="6" required
                          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                          placeholder="Template pesan setelah generate tagihan bulanan"><%= settings.invoiceGenerationTemplate %></textarea>
                <p class="text-sm text-gray-500 mt-1">
                    Placeholder: <code>{period}</code>
                </p>
            </div>

            <div class="flex justify-end">
                <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
                    Simpan Semua Template
                </button>
            </div>
        </form>
    </div>
</div>

<%- include('../partials/footer') %>
